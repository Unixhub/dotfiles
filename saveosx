# This script frees some disk space for osx.

sleepimage crap:

/private/var/vm/sleepimage

pmset -a hibernatemode 0


speech voices:

/System/Library/Speech/Voices/*

logs:

/private/var/log/*

quicklook caches

/private/var/folders/*

emacs (60)

/usr/share/emacs/

tmp files

/private/var/tmp/; rm -rf TM*

caches

/Library/Caches/

remove update files

/Library/Updates

disable spotlight :
$ sudo mdutil -a -v -i off
$ sudo chmod 000 /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Support/*
$ sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.metadata.mds.plist
$ cd /System/Library/CoreServices/Search.bundle/Contents/MacOS
$ sudo mv Search _Search
$ cd /System/Library/CoreServices/
$ sudo mv Search.bundle/ Search2.bundle/
$ sudo killall SystemUIServer 


Disable swapping


$ sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.dynamic_pager.plist
$ sudo rm /private/var/vm/swapfile* 

Disable the widgets

/Library/Widgets

and disable the widget center

Remove dictionaries:

/Library/Dictionnaries

Internet plugins

/Library/Internet\ Plug-Ins

Fonts:

/Library/Fonts

Desktop Pictures

Screen Savers

/System/Library/ Screen Savers

Automator

/System/Library/Automator

Drivers

/System/Library/Extensions

Fonts

/System/Library/Fonts

Frameworks

/System/Library/Frameworks

Preferences panes

/System/Library/PreferencesPanes

Private frameworks

/System/Library/PrivateFrameworks

Compositions

/System/Library/Compositions

Local caches

~/library/caches

Look for files of deleted applications in ~/Library/Application\ Support

If you use macports, so in the /opt prefix:

var/cache

var/macports/build
var/macports/distfiles
var/macports/software
var/macports/sources

If you think there's a program eating lots of disk space and you dont
know why, you can use these dtrace scripts:

`sudo iosnoop -v -a`
`sudo fs_usage` -- can use pid filters 
`iotop` -- top like disk usage monitor
`hfsslower`
`execsnoop`
`opensnoop`
`dtruss` -- all types of system calls


Disable useless stuff on osx:

1. The Dashboard:

defaults write com.apple.dashboard mcx-disabled -boolean YES
killall Dock

2. The Notification center:

launchctl unload -w /System/Library/LaunchAgents/com.apple.notificationcenterui.plist
killall NotificationCenter

3. Delete Messages app

4. Disable the launchpad:

5. Delete the App Store:

use `softwareupdate -ia` as root to update the system.

6. Disable window shadows:

Use the app shadowkiller

7. Delete iTunes, Quicktime player and other useless apps:

use vlc, enqueue or cli apps 

*not finished*

8. Get X from macports and run it at login:
put it in /Library/LaunchAgents

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>Label</key>
	<string>com.startx.userlogin</string>
	<key>ProgramArguments</key>
	<array>
			<string>/Library/LaunchAgents/startx.zsh</string>
	</array>
	<key>RunAtLoad</key>
	<true/>
</dict>
</plist>

zsh scipt

#!/bin/zsh
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
/opt/local/bin/startx


Make Finder quitable:
defaults write com.apple.finder QuitMenuItem -bool YES

Disable time machine:
sudo tmutil disable

If startx says 'couldn't save cookie, run 'xinit' or set use_xauth=1 in startx.
disable secure virtual memory
Terminal
udo defaults write /Library/Preferences/com.apple.virtualMemory DisableEncryptedSwap -boolean yes

Daemons you can safely disable:
com.apple.AirPortBaseStationAgent.plist
com.apple.CalendarAgent.plist
com.apple.Dock.plist
com.apple.Finder.plist
com.apple.ReportCrash.Root.plist
com.apple.accountsd.plist
com.apple.assistantd.plist
com.apple.backupd.plist
com.apple.blued.plist
com.apple.cookied.plist
com.apple.coreservices.appleid.authentication.plist
com.apple.gamed.plist
com.apple.helpd.plist
com.apple.imagent.plist
com.apple.quicklook.plist
com.apple.revisiond.plist
com.apple.sleepservicesd.plist
com.apple.sociald.plist
com.apple.stackshot.plist
com.apple.sysmond.plist
com.apple.talagent.plist
com.apple.tccd.plist

Disable spell check in preferences -> lang -> text

How to get the dock and menubar out of the way:

add 

<key>LSUIElement</key>
<string>1</string>
<key>LSUIPresentationMode</key>
    <integer>4</integer>

at the end of /Applications/any.app/Contents/Info.plist


You can compile firefox-x11-devel from macports.
Don't forget to edit the dbus launchd script to make it load at start 
or you won't be able to use firefox properly.

Don't forget to unassign default osx key combos if you use cmd key in your wm.
